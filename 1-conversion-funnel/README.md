<div align="center">
    <img src="https://img.shields.io/badge/DA in Industry-Проект 1-gray?labelColor=FFDD2D" align="left"/>
    <a href="https://www.pola.rs" target="_blank">
        <img src="https://img.shields.io/badge/Polars-0.16.14-gray?logo=polars&logoColor=white&labelColor=gray" align="left"/>
    </a>
    <a href="https://plotly.com/python/" target="_blank">
        <img src="https://img.shields.io/badge/Plotly-5.13.1-gray?logo=plotly&logoColor=white&labelColor=gray" align="left"/>
    </a>
</div>

# Построение воронки для отслеживания конверсии пользователей

<a href="https://nbviewer.org/github/glebcomissarov/da-in-industry/blob/main/1-conversion-funnel/1-conversion-funnel-analysis.ipynb" target="_blank">
        <img src="https://img.shields.io/badge/-Посмотреть notebook-orange?logo=jupyter&logoColor=white&labelColor=orange&style=for-the-badge" align="left"/>
</a><br>

## Задание

Для того чтобы отслеживать, как выглядит путь клиента от знакомства с продуктом до его получения, и какие в нем есть проблемные места, аналитики часто строят воронки. Этот инструмент позволяет понять, сколько клиентов "теряется" на каждом из этапов процесса и сколько в итоге совершает целевое действие.

Дана схема данных проекта Тинькофф квест. Постройте воронку, которая показывала бы в динамике по неделям и месяцам, сколько клиентов посещает наш сайт, и какая доля из них регистрируется на нем \ подает заявку на игру \ по факту приходит на нее. Количество клиентов и конверсии необходимо изобразить на одном графике.

**Какие выводы** можно сделать исходя из построенной воронки, **какие точки роста** продукта вы видите?

## Данные

Используемые таблицы базы данных сервиса _Тинькофф.Квест_

- `client` - содержит информацию о клиентах, посетивших наш сайт

  | Название поля | Описание                                            |
  | ------------- | --------------------------------------------------- |
  | `client_rk`   | Ключ клиента в ХД                                   |
  | `first_name`  | Имя клиента                                         |
  | `last_name`   | Фамилия клиента                                     |
  | `phone_num`   | Номер телефона                                      |
  | `visit_dttm`  | Дата и время, когда клиент крайний раз посещал сайт |

- `account` - содержит информацию об аккаунтах клиентов (если у клиента есть аккаунт, значит он зарегистрировался на сайте)

  | Название поля       | Описание                                  |
  | ------------------- | ----------------------------------------- |
  | `account_rk`        | Ключ аккаунта клиента в ХД                |
  | `client_rk`         | Ключ клиента в ХД                         |
  | `registration_dttm` | Дата и время регистрации клиента на сайте |
  | `login`             | Логин зарегистрированного клиента         |
  | `password`          | Пароль зарегистрированного клиента        |
  | `email`             | Адрес электронной почты клиента           |

- `application` - содержит информацию о заявках клиентов на иргы (заявку может оставить только авторизованный клиент, также разные клиенты могут оставить заявку на одну и ту же игру)

  | Название поля      | Описание                            |
  | ------------------ | ----------------------------------- |
  | `application_rk`   | Ключ заявки в ХД                    |
  | `account_rk`       | Ключ аккаунта клиента в ХД          |
  | `game_rk`          | Ключ игры                           |
  | `application_dttm` | Дата и время заявки на игру клиента |

- `game` - расписание запланированных и состоявшихся игр (отдельных прохождений и просто слотов в расписании по играм)

  | Название поля | Описание                                        |
  | ------------- | ----------------------------------------------- |
  | `game_rk`     | Ключ отдельной игры в хранилище данных          |
  | `quest_rk`    | Ключ квест, в рамках которого проходила игра    |
  | `employee_rk` | Ключ сотрудника, который проводил игру          |
  | `game_dttm`   | Дата-время запланированного начала игры         |
  | `price`       | Стоимость игры                                  |
  | `game_flg`    | Флаг того, что игра состоялась                  |
  | `finish_flg`  | Флаг того, что состоявшуюся игру удалось пройти |
  | `time`        | Время прохождения игры                          |
